<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- é‡å° Apple è£ç½®ï¼Œè®“ç¶²é åœ¨åŠ å…¥ä¸»ç•«é¢å¾Œä»¥å…¨è¢å¹•æ¨¡å¼å•Ÿå‹• (éš±è—åœ°å€åˆ—/ç€è¦½å™¨ä»‹é¢) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- è¨­å®šç‹€æ…‹åˆ—çš„é¢¨æ ¼ï¼Œè®“å…§å®¹å»¶å±•åˆ°ç‹€æ…‹åˆ—ä¸‹æ–¹ -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>å¯¶å¯¶ä½œæ¯æ™‚é˜</title>
    <!-- è¼‰å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è¨­å®šå­—é«”ç‚º Noto Sans TC ä»¥ç¢ºä¿ç¹é«”ä¸­æ–‡çš„è‰¯å¥½é¡¯ç¤ºï¼Œä¸¦ä½¿ç”¨ Inter ä½œç‚ºè‹±æ•¸å­—é«”çš„å‚™é¸ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');
        :root {
            --clock-size: 80vh; /* é è¨­æ™‚é˜å¤§å°ï¼Œæœƒåœ¨ JS ä¸­æ ¹æ“šæ–¹å‘èª¿æ•´ */
            --primary-color: #3B82F6; /* è—è‰²ï¼Œä¸»è‰²èª¿ */
            --cute-bg-color: #FFE0F0; /* å¯æ„›ç²‰è‰²èƒŒæ™¯ */
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
        }

        /* é—œéµä¿®å¾©ï¼šå¼·åˆ¶ HTML å’Œ BODY ä½”æ»¿æ•´å€‹è¦–å£é«˜åº¦ï¼Œç¢ºä¿åœ¨ PWA æ¨¡å¼ä¸‹éš±è—åœ°å€åˆ— */
        html, body {
            height: 100vh;
            width: 100vw;
            -webkit-tap-highlight-color: transparent; /* ç¦ç”¨é»æ“Šæ™‚çš„é«˜äº®æ•ˆæœ */
        }
        
        body {
            background-color: #FFFBE2; /* æ·ºç°è‰²èƒŒæ™¯ï¼Œä½œç‚ºåœ–ç‰‡è¼‰å…¥å‰çš„å‚™ç”¨è‰² */
            /* éš±è—ç€è¦½å™¨æ»¾å‹•æ¢ï¼Œç¢ºä¿æ²’æœ‰å¤šé¤˜çš„åŠŸèƒ½åˆ— */
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */

            /* --- èƒŒæ™¯åœ–ç‰‡è¨­å®šé–‹å§‹ --- */
            /* 1. æ›¿æ›æ­¤è™•çš„ URL ç‚ºæ‚¨å¸Œæœ›ä½¿ç”¨çš„åœ–ç‰‡é€£çµã€‚é€™æ˜¯ä¸€å€‹æŸ”å’Œçš„ç²‰å½©ç´‹ç†åœ–ç‰‡ä½œç‚ºç¯„ä¾‹ã€‚ */
            background-image: linear-gradient(#FFFFFFA3, #FFFFFFA3), url('https://hannahome.github.io/baby-clock2/background-flower.png'); */
            /* 2. è¨­å®šåœ–ç‰‡å°ºå¯¸èˆ‡å»¶å±• (background-size)
                  - cover: ç¢ºä¿åœ–ç‰‡è¦†è“‹æ•´å€‹è¦–çª— (å¯èƒ½æœƒè£åˆ‡)
                  - contain: ç¢ºä¿åœ–ç‰‡å®Œæ•´é¡¯ç¤º (ä¸æœƒè£åˆ‡ï¼Œä½†å¯èƒ½ç•™ç©º)
                  - 100% 100%: å¼·åˆ¶åœ–ç‰‡æ‹‰ä¼¸è‡³æ»¿ç‰ˆ (å¯èƒ½æœƒè®Šå½¢)
            */
            background-size: cover; 
            /* 3. è¨­å®šåœ–ç‰‡æ˜¯å¦é‡è¤‡ (background-repeat)
                  - no-repeat: ä¸é‡è¤‡ (å–®ä¸€åœ–ç‰‡)
                  - repeat: æ°´å¹³å’Œå‚ç›´é‡è¤‡å¹³é‹ª
                  - repeat-x: åƒ…æ°´å¹³é‡è¤‡
                  - repeat-y: åƒ…å‚ç›´é‡è¤‡
            */
            background-repeat: repeat; 
            /* 4. èƒŒæ™¯å›ºå®šï¼Œæ²å‹•æ™‚ä¸ç§»å‹• (ç¶­æŒ fixed ä»¥ç¢ºä¿æ™‚é˜ç©©å®š) */
            background-attachment: fixed; 
            /* --- èƒŒæ™¯åœ–ç‰‡è¨­å®šçµæŸ --- */
        }
        body::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }

        /* å‚³çµ±æ™‚é˜å®¹å™¨ - æ‡‰ç”¨åˆ†æ®µé¡è‰²å’Œé™°å½± */
        .analog-clock-container {
            position: relative;
            width: var(--clock-size);
            height: var(--clock-size);
            border-radius: 50%;
            /* å¯¦ç¾ç”¨æˆ¶è¦æ±‚çš„ Conic Gradient èƒŒæ™¯åˆ†æ®µ */
            background: conic-gradient(
                #FFD6E8 0deg 60deg,      /* èµ·åºŠ: ç²‰ç´… */
                #D6EAFF 60deg 150deg,     /* ç©¿è¡£æœ/æ›¸åŒ…: æ·ºè— */
                #FFECC7 150deg 240deg,     /* åƒæ—©é¤: æ·ºé»ƒ/æ©˜ */
                #E5FFD6 240deg 270deg,     /* æ•´ç†é¤æ¡Œ: æ·ºç¶  */
                #E8D6FF 270deg 300deg,     /* ç©¿é‹å­: æ·ºç´« */
                #C7E0B4 300deg 360deg      /* å‡ºé–€: ç°ç¶  */
            );
            /* ä¾æ“šè¦æ±‚ï¼Œå¤–æ¡†æ”¹ç‚ºç°è‰² (50%é»‘ = #808080) */
            /* 1. èª¿æ•´æ™‚é˜æ¡†ç·šå¯¬åº¦ç‚º 3px */
            /* é™°å½±ä¿æŒä½¿ç”¨ rgbaï¼Œå› ç‚ºå®ƒæ˜¯åŠŸèƒ½æ€§çš„ï¼Œä¸”ä¸æ¶‰åŠä¸»è¦é¡è‰²è¨­å®š */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15), 0 0 0 3px #808080 inset;
        }

        /* æ™‚é˜ä¸­å¿ƒé» */
        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
        }

        /* æ™‚é˜æŒ‡é‡åŸºç¤æ¨£å¼ */
        .hand {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform-origin: center bottom;
            border-radius: 5px;
            z-index: 50;
        }

        /* æ™‚é‡ */
        .hour-hand {
            width: 1.5%;
            height: 30%;
            background-color: #334155; /* æ·±ç° */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* åˆ†é‡ */
        .minute-hand {
            width: 1%;
            height: 40%;
            background-color: #475569; /* ä¸­ç° */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* ç§’é‡ (ç´…) */
        .second-hand {
            width: 0.5%;
            height: 45%;
            background-color: #EF4444; /* ç´…è‰² */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* ä»»å‹™æ¨™ç±¤åŸºç¤æ¨£å¼ï¼šç§»é™¤å›ºå®šé¡è‰²ï¼Œäº¤çµ¦ JS è¨­ç½® Tailwind class */
        .task-label {
            position: absolute;
            color: white;
            padding: 0.35rem 1rem; /* ç¨å¾®æ”¾å¤§æ¨™ç±¤ */
            border-radius: 9999px; /* åœ“è§’ */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            text-align: center;
            line-height: 1.3;
            z-index: 70;
            font-size: 0.85rem;
            transition: transform 0.3s ease; /* å¢åŠ éæ¸¡æ•ˆæœ */
            /* 3. ä»»å‹™æ¨™ç±¤åŠé€æ˜ (30% é€æ˜åº¦ = 70% ä¸é€æ˜åº¦) */
            opacity: 0.7;
        }
        
        /* æ‡¸åœæˆ–é»æ“Šæ™‚æ”¾å¤§ */
        .task-label:hover {
            transform: translate(-50%, -50%) scale(1.1);
            z-index: 80;
        }

        /* å°æ™‚åˆ»åº¦æ•¸å­— (1-12) - ä¾è¦æ±‚æ–°å¢åŠé€æ˜èƒŒæ™¯ä¸¦ç§»åˆ°å¤–æ¡†ç·šä¸Š */
        .hour-mark-num {
            position: absolute;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1E293B;
            transform: translate(-50%, -50%); /* å±…ä¸­å®šä½ */
            /* ä¾æ“šè¦æ±‚æ–°å¢ï¼šç™½è‰²åŠé€æ˜åº•è‰²å’Œåœ“è§’ï¼Œå·²è½‰æ›ç‚º 8 ä½æ•¸ 16 é€²ä½ç¢¼ */
            background-color: #FFFFFF33; /* ç™½è‰² (FF FF FF) + 20% é€æ˜åº¦ (33) */
            backdrop-filter: blur(3px); /* è¼•å¾®æ¨¡ç³ŠèƒŒæ™¯ï¼Œå¢åŠ å¯è®€æ€§ */
            padding: 0.25rem 0.5rem; 
            border-radius: 9999px; 
            border: 1px solid #FFFFFF66; /* ç™½è‰² (FF FF FF) + 40% é€æ˜åº¦ (66) */
        }

        /* åˆ†é˜åˆ»åº¦ç·š/æ•¸å­— */
        .minute-mark {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            transform-origin: center center;
        }

        /* åŸºç¤åˆ†é˜é»é» */
        .minute-dot {
            position: absolute;
            top: 3%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 6px; /* åŸºç¤å°ºå¯¸ */
            height: 6px; /* åŸºç¤å°ºå¯¸ */
            background-color: #94A3B8; /* æ·ºç°è‰² */
            border-radius: 50%;
        }

        /* æ¯äº”åˆ†é˜çš„é»é» (æ”¾å¤§ä¸”åŠ æ·±é¡è‰²) */
        .five-minute-dot {
            width: 9px; 
            height: 9px;
            background-color: #475569; /* ä¸­ç°è‰²ï¼Œè®“å®ƒæ›´é¡¯çœ¼ */
        }
        
        /* æ¯ 5 åˆ†é˜çš„æ•¸å­—æ¨™ç±¤ */
        .minute-num {
            position: absolute;
            top: 7%; 
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.75rem;
            color: #64748B;
            font-weight: 500;
        }

        /* å°‡ 5 åˆ†é˜æ•¸å­—æ¨™ç±¤çš„ rotate(X) å€’è½‰å›ä¾†ï¼Œé¿å…æ–‡å­—è·Ÿè‘—æ™‚é˜æ—‹è½‰ */
        .minute-mark .minute-num {
            /* é€™è£¡ä½¿ç”¨ var(angle) è®Šæ•¸ä¾†åè½‰æ—‹è½‰ */
            transform: translate(-50%, -50%) rotate(calc(var(--current-rotation) * -1));
        }

        /* ä¾è¦æ±‚èª¿æ•´ï¼šé›»å­æ™‚é˜ ä¸Šåˆ/ä¸‹åˆ æ¨™ç±¤æ¨£å¼ (å›ºå®š 5px) */
        .period-text {
            font-size: 5px; /* ä¾æ“šè¦æ±‚èª¿æ•´ï¼šåˆ‡æ›ç‚º px å–®ä½ï¼Œç´„ç­‰æ–¼ 14pt */
            font-weight: 500; 
            color: #4B5563; 
            margin-left: 0.3rem;
            position: relative;
            top: -0.1em; 
            display: inline-block;
        }


        /* ---------------------------------------------------- */
        /* é›»å­æ™‚é˜ç¸®å° 20% èª¿æ•´å€åŸŸ */
        /* ---------------------------------------------------- */
        
        /* æ–°å¢ï¼šèŠ±æœµé‚Šæ¡†æ•ˆæœ - å–ä»£åŸæœ¬çš„ Tailwind é‚Šæ¡†æ¨£å¼ */
        #digital-clock {
            background-color: #FFFFFF; 
            padding: 1.5rem; /* æ¨¡æ“¬ p-6 */
            border-radius: 2rem; /* ç¨å¾®åŠ å¤§åœ“è§’ï¼Œæ¨¡æ“¬ rounded-3xl */
            
            /* å‰µå»ºå¤šå±¤æ¬¡ï¼Œå¯æ„›çš„èŠ±æœµ/æ³¢æµªé‚Šæ¡†æ•ˆæœ (ä½¿ç”¨ box-shadow) */
            box-shadow: 
                /* å…§å±¤é™°å½± (æ¨¡æ“¬ shadow-xl) */
                0 10px 20px rgba(0, 0, 0, 0.1), 
                /* ç¬¬ä¸€å±¤èŠ±ç“£è‰² (æ·ºç²‰ç´…) */
                0 0 0 10px #FBCEE8, /* pink-200 */
                /* ç¬¬äºŒå±¤èŠ±ç“£è‰² (æŸ”å’Œé»ƒ) */
                0 0 0 15px #FEF9C3, /* yellow-100 */
                /* ç¬¬ä¸‰å±¤èŠ±ç“£è‰² (æ·±ç²‰ç´…) */
                0 0 0 20px #F472B6, /* pink-400 */
                /* å¤–å±¤æŸ”å’Œå…‰æšˆ (è½‰æ›ç‚º 8 ä½æ•¸ 16 é€²ä½ç¢¼) */
                0 0 15px 25px #FDE68A80; /* yellow-200 with blur and 50% opacity */
            
            transition: all 0.5s ease-in-out;
        }

        /* æ©«å¼é…ç½®ä¸‹çš„æ™‚é–“æ•¸å­— (åŸ 4remï¼Œç¸®å°ç´„ 20% åˆ° 3.2rem) */
        .landscape-digital-time {
            font-size: 3.2rem; 
        }
        /* æ©«å¼é…ç½®ä¸‹çš„æ—¥æœŸ/æ˜ŸæœŸæ•¸å­— (åŸ 1.5remï¼Œç¸®å°ç´„ 20% åˆ° 1.2rem) */
        .landscape-digital-date {
            font-size: 1.2rem; 
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ï¼šåœ¨å°è¢å¹•ä¸Šèª¿æ•´æ™‚é˜å…ƒä»¶çš„å¤§å° */
        @media (max-width: 640px) {
            /* ç›´å¼/å°è¢å¹•ä¸‹çš„æ—¥æœŸ/æ˜ŸæœŸæ•¸å­— (åŸ 1.125remï¼Œç¸®å°ç´„ 20% åˆ° 0.9rem) */
            .digital-date-default-size { font-size: 0.9rem; } 

            .hour-mark-num { font-size: 1.25rem; }
            .task-label { font-size: 0.75rem; padding: 0.2rem 0.6rem; }
            .minute-dot { width: 4px; height: 4px; }
            .five-minute-dot { width: 6px; height: 6px; } 
            .minute-num { font-size: 0.65rem; }

            /* å°è¢å¹•æ©«å¼é…ç½®ä¸‹çš„æ™‚é–“æ•¸å­— (åŸ 3remï¼Œç¸®å°ç´„ 20% åˆ° 2.4rem) */
            .landscape-digital-time { font-size: 2.4rem; }
            /* å°è¢å¹•æ©«å¼é…ç½®ä¸‹çš„æ—¥æœŸ/æ˜ŸæœŸæ•¸å­— (åŸ 1.25remï¼Œç¸®å°ç´„ 20% åˆ° 1rem) */
            .landscape-digital-date { font-size: 1rem; }
        }
        /* ---------------------------------------------------- */
        /* é›»å­æ™‚é˜ç¸®å° 20% èª¿æ•´å€åŸŸ çµæŸ */
        /* ---------------------------------------------------- */


    </style>
</head>
<body class="overflow-hidden">

    <main id="app-container" class="min-h-screen flex flex-col justify-center items-center p-4 transition-all duration-300">
        <!-- å‚³çµ±æ™‚é˜å€å¡Š -->
        <div id="analog-clock-wrapper" class="flex justify-center items-center">
            <div id="analog-clock" class="analog-clock-container relative">
                <!-- 12å€‹å°æ™‚åˆ»åº¦æ•¸å­— -->
                <div id="hour-numbers"></div>
                <!-- 60å€‹åˆ†é˜åˆ»åº¦ -->
                <div id="minute-marks"></div>
                <!-- ä»»å‹™æ¨™ç±¤ -->
                <div id="task-labels"></div>

                <!-- æŒ‡é‡ -->
                <div id="hour-hand" class="hand hour-hand"></div>
                <div id="minute-hand" class="hand minute-hand"></div>
                <div id="second-hand" class="hand second-hand"></div>
                
                <!-- ä¸­å¿ƒé» -->
                <div class="center-dot"></div>
            </div>
        </div>

        <!-- é›»å­æ™‚é˜å€å¡Š - å¯æ„›çš„è¨­è¨ˆé¢¨æ ¼ -->
        <!-- ç§»é™¤äº† bg-white p-6 rounded-3xl shadow-xl border-4 border-pink-200ï¼Œæ”¹ç”± CSS è™•ç† -->
        <div id="digital-clock" class="mt-8 text-center transition-all duration-300">
            <div id="digital-date" class="digital-date-default-size text-pink-600 font-semibold mb-2 landscape-digital-date"></div>
            <div id="digital-time" class="text-blue-700 font-mono font-extrabold landscape-digital-time"></div>
        </div>
    </main>

    <script>
        // è¨­å®š API Keyï¼Œå¦‚æœè¦åœ¨ Canvas ç’°å¢ƒä»¥å¤–é‹è¡Œï¼Œè«‹å¡«å¯«
        const apiKey = "$2a$10$Ud6ejIFrOHIeYjhVKcVE5.PG9rQKTWbsfFd0RuYmxubPyt2bjV5yS"; 

        // ä»»å‹™æ¨™ç±¤è³‡æ–™
        const tasks = [
            { emoji: 'ğŸŒ', label: 'èµ·åºŠ', angle: 30, bgColor: '#F87171', cssClass: 'task-label' },
            { emoji: 'ğŸ‘•ğŸ“š', label: '<br>ç©¿è¡£æœ<br>æ•´ç†æ›¸åŒ…', angle: 115, bgColor: '#60A5FA', cssClass: 'task-label' },
            { emoji: 'ğŸ', label: 'åƒæ—©é¤', angle: 190, bgColor: '#F59E0B', cssClass: 'task-label' },
            { emoji: 'ğŸ§»', label: 'æ•´ç†é¤æ¡Œ<br>æ“¦æ‰‹æ“¦å˜´', angle: 255, bgColor: '#22C55E', cssClass: 'task-label' },
            { emoji: 'ğŸ‘Ÿ', label: 'ç©¿é‹å­', angle: 285, bgColor: '#A855F7', cssClass: 'task-label' },
            { emoji: 'ğŸš—', label: 'å‡ºé–€', angle: 330, bgColor: '#65A30D', cssClass: 'task-label' }
        ];

        // DOM å…ƒç´ åƒè€ƒ
        const appContainer = document.getElementById('app-container');
        const analogClockWrapper = document.getElementById('analog-clock-wrapper');
        const analogClock = document.getElementById('analog-clock');
        const digitalClock = document.getElementById('digital-clock');
        const digitalDateEl = document.getElementById('digital-date');
        const digitalTimeEl = document.getElementById('digital-time');
        const hourHand = document.getElementById('hour-hand');
        const minuteHand = document.getElementById('minute-hand');
        const secondHand = document.getElementById('second-hand');
        const hourNumbersEl = document.getElementById('hour-numbers');
        const minuteMarksEl = document.getElementById('minute-marks');
        const taskLabelsEl = document.getElementById('task-labels');

        // =======================================================
        // 1. æ™‚é˜ã€åˆ»åº¦ã€ä»»å‹™æ¨™ç±¤çš„åˆå§‹åŒ–
        // =======================================================

        /**
         * æ ¹æ“šæä¾›çš„è§’åº¦å’ŒåŠå¾‘ï¼Œè¨ˆç®—å…ƒç´ åœ¨æ™‚é˜ä¸Šçš„ (x, y) åº§æ¨™ã€‚
         */
        function getCoords(angle, radius) {
            const rad = (angle - 90) * (Math.PI / 180); 
            const clockSize = analogClock.offsetWidth;
            const R = clockSize * radius;
            
            const centerX = clockSize / 2;
            const centerY = clockSize / 2;

            return {
                x: centerX + R * Math.cos(rad),
                y: centerY + R * Math.sin(rad)
            };
        }

        /** ç¹ªè£½å°æ™‚æ•¸å­—åˆ»åº¦ (1-12) */
        function createHourNumbers() {
            hourNumbersEl.innerHTML = '';
            const radius = 0.52; 

            for (let h = 1; h <= 12; h++) {
                let angle = h * 30;
                let { x, y } = getCoords(angle, radius);

                const numEl = document.createElement('div');
                numEl.className = 'hour-mark-num';
                numEl.textContent = h;
                numEl.style.left = `${x}px`;
                numEl.style.top = `${y}px`;
                hourNumbersEl.appendChild(numEl);
            }
        }

        /** ç¹ªè£½åˆ†é˜åˆ»åº¦ (é»å’Œæ•¸å­—) */
        function createMinuteMarks() {
            minuteMarksEl.innerHTML = '';
            for (let m = 0; m < 60; m++) {
                const angle = m * 6;
                const isFiveMinute = m % 5 === 0;
                
                const markContainer = document.createElement('div');
                markContainer.className = 'minute-mark';
                markContainer.style.transform = `rotate(${angle}deg)`;
                markContainer.style.setProperty('--current-rotation', `${angle}deg`);
                
                const minuteDot = document.createElement('div');
                minuteDot.className = 'minute-dot';

                if (isFiveMinute) {
                    minuteDot.classList.add('five-minute-dot');
                }

                markContainer.appendChild(minuteDot);

                if (isFiveMinute) {
                    if (m !== 0) { 
                        const minuteNum = document.createElement('div');
                        minuteNum.className = 'minute-num';
                        minuteNum.textContent = m;
                        markContainer.appendChild(minuteNum);
                    }
                } 
                
                minuteMarksEl.appendChild(markContainer);
            }
        }

        /** ç¹ªè£½ä»»å‹™æ¨™ç±¤ */
        function createTaskLabels() {
            taskLabelsEl.innerHTML = '';
            const radius = 0.23; 

            tasks.forEach(task => {
                // ä¿®æ”¹ï¼šç¾åœ¨ä½¿ç”¨ bgColor å±¬æ€§
                const { angle, label, emoji, bgColor } = task;
                let { x, y } = getCoords(angle, radius);

                const labelEl = document.createElement('div');
                // ä¿®æ”¹ï¼šåªä¿ç•™åŸºç¤ class (task-label)
                labelEl.className = task.cssClass;
                // æ–°å¢ï¼šç›´æ¥è¨­å®šèƒŒæ™¯é¡è‰²ç‚º 16 é€²ä½ç¢¼
                labelEl.style.backgroundColor = bgColor;
                
                labelEl.innerHTML = `${emoji} ${label}`;

                labelEl.style.left = `${x}px`;
                labelEl.style.top = `${y}px`;
                labelEl.style.transform = `translate(-50%, -50%)`;

                taskLabelsEl.appendChild(labelEl);
            });
        }


        // =======================================================
        // 2. æ™‚é˜é‹ä½œé‚è¼¯
        // =======================================================

        /**
         * æ›´æ–°æŒ‡é‡ä½ç½®
         */
        function updateAnalogClock() {
            const now = new Date();
            const h = now.getHours(); 
            const m = now.getMinutes();
            const s = now.getSeconds();

            // æ™‚é‡è§’åº¦: (å°æ™‚ * 30åº¦) + (åˆ†é˜ * 0.5åº¦)
            const hDeg = ((h % 12) * 30) + (m * 0.5);
            // åˆ†é‡è§’åº¦: åˆ†é˜ * 6åº¦
            const mDeg = (m * 6) + (s * 0.1);
            // ç§’é‡è§’åº¦: ç§’ * 6åº¦
            const sDeg = s * 6;

            // è¨­ç½® CSS transform: rotateZã€‚
            hourHand.style.transform = `translate(-50%, 0) rotate(${hDeg}deg)`;
            minuteHand.style.transform = `translate(-50%, 0) rotate(${mDeg}deg)`;
            secondHand.style.transform = `translate(-50%, 0) rotate(${sDeg}deg)`;
        }

        /**
         * æ›´æ–°é›»å­æ™‚é˜é¡¯ç¤º
         */
        function updateDigitalClock() {
            const now = new Date();
            
            // è™•ç†æ—¥æœŸå’Œæ˜ŸæœŸ
            const dateOptions = { year: 'numeric', month: '2-digit', day: '2-digit' };
            const dateStr = now.toLocaleDateString('zh-TW', dateOptions);

            const weekdayOptions = { weekday: 'long' };
            const weekdayStr = now.toLocaleDateString('zh-TW', weekdayOptions);

            // è™•ç†æ™‚é–“ (12å°æ™‚åˆ¶, HH:MM:SS AM/PM)
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit', 
                hour12: true 
            };
            let timeStr = now.toLocaleTimeString('zh-TW', timeOptions);
            
            // èª¿æ•´ï¼šå°‡æ™‚é–“å’Œ ä¸Šåˆ/ä¸‹åˆ æ¨™è¨˜åˆ†é–‹ï¼Œä»¥ä¾¿å–®ç¨è¨­ç½®æ¨£å¼
            const parts = timeStr.split(' ');
            let timeDigits = '';
            let periodText = '';

            if (parts.length === 2) {
                if (parts[0].includes(':')) {
                    timeDigits = parts[0];
                    periodText = parts[1];
                } else {
                    periodText = parts[0];
                    timeDigits = parts[1];
                }
            } else {
                timeDigits = timeStr;
                periodText = '';
            }

            digitalDateEl.textContent = `${dateStr} ${weekdayStr}`;
            
            // ä½¿ç”¨ innerHTML æ’å…¥å¸¶æœ‰ç‰¹æ®Šæ¨£å¼ class çš„ <span> æ¨™ç±¤
            let formattedTimeHTML = `${timeDigits} <span class="period-text">${periodText}</span>`;
            digitalTimeEl.innerHTML = formattedTimeHTML;
        }

        /**
         * æ ¹æ“šè¢å¹•æ–¹å‘èª¿æ•´ä½ˆå±€å’Œæ™‚é˜å¤§å°
         */
        function updateLayout() {
            const isLandscape = window.innerWidth > window.innerHeight;
            const root = document.documentElement;

            // æ¸…ç†é¡åˆ¥
            appContainer.classList.remove('flex-row', 'flex-col', 'justify-start', 'gap-12', 'gap-6');
            digitalClock.classList.remove('mt-8', 'text-center', 'flex', 'flex-col', 'justify-center', 'text-left');
            
            if (isLandscape) {
                // æ©«å¼é…ç½®ï¼šæ™‚é˜åœ¨å·¦ï¼Œé›»å­æ™‚é˜åœ¨å³
                appContainer.classList.add('flex-row', 'justify-center', 'gap-12', 'p-8');
                
                // æ™‚é˜å¤§å° = è¢å¹•é«˜åº¦ (90% ä½œç‚ºç›´å¾‘)
                const clockSize = window.innerHeight * 0.9;
                root.style.setProperty('--clock-size', `${clockSize}px`);

                // èª¿æ•´é›»å­æ™‚é˜æ¨£å¼
                digitalClock.classList.add('flex', 'flex-col', 'justify-center', 'text-left');

            } else {
                // ç›´å¼é…ç½®ï¼šæ™‚é˜åœ¨ä¸Šä¸­ï¼Œé›»å­æ™‚é˜åœ¨ä¸‹
                appContainer.classList.add('flex-col', 'justify-start', 'gap-6', 'p-4');
                
                // æ™‚é˜å¤§å° = è¢å¹•å¯¬åº¦ (90% ä½œç‚ºç›´å¾‘ï¼Œæœ€å¤§é™åˆ¶åœ¨ 70vh ä»¥é¿å…éé«˜)
                const clockSize = Math.min(window.innerWidth * 0.9, window.innerHeight * 0.7);
                root.style.setProperty('--clock-size', `${clockSize}px`);

                // èª¿æ•´é›»å­æ™‚é˜æ¨£å¼
                digitalClock.classList.add('mt-8', 'text-center');
            }

            // é‡æ–°ç¹ªè£½åˆ»åº¦å’Œæ¨™ç±¤ä»¥é©æ‡‰æ–°çš„æ™‚é˜å°ºå¯¸
            createHourNumbers();
            createMinuteMarks();
            createTaskLabels();
        }

        // =======================================================
        // 3. åˆå§‹åŒ–å’Œäº‹ä»¶ç›£è½
        // =======================================================

        // é¦–æ¬¡é‹è¡Œæ™‚åˆå§‹åŒ–ä½ˆå±€å’Œæ™‚é˜
        window.onload = function() {
            updateLayout(); 
            updateAnalogClock();
            updateDigitalClock();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡æŒ‡é‡å’Œé›»å­æ™‚é˜
            setInterval(() => {
                updateAnalogClock();
                updateDigitalClock();
            }, 1000);

            // ç›£è½è¦–çª—å¤§å°è®ŠåŒ–ï¼Œä»¥èª¿æ•´ä½ˆå±€
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                // é™åˆ¶ resize é »ç‡ä»¥å„ªåŒ–æ€§èƒ½
                resizeTimer = setTimeout(updateLayout, 200);
            });
        };
    </script>
</body>

</html>
