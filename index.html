<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯¶å¯¶ä½œæ¯æ™‚é˜</title>
    <!-- è¼‰å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* è¨­å®šå­—é«”ç‚º Noto Sans TC ä»¥ç¢ºä¿ç¹é«”ä¸­æ–‡çš„è‰¯å¥½é¡¯ç¤ºï¼Œä¸¦ä½¿ç”¨ Inter ä½œç‚ºè‹±æ•¸å­—é«”çš„å‚™é¸ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');
        :root {
            --clock-size: 80vh; /* é è¨­æ™‚é˜å¤§å°ï¼Œæœƒåœ¨ JS ä¸­æ ¹æ“šæ–¹å‘èª¿æ•´ */
            --primary-color: #3b82f6; /* è—è‰²ï¼Œä¸»è‰²èª¿ */
            --cute-bg-color: #ffe0f0; /* å¯æ„›ç²‰è‰²èƒŒæ™¯ */
            font-family: 'Noto Sans TC', 'Inter', sans-serif;
        }

        body {
            background-color: #f7f9fb; /* æ·ºç°è‰²èƒŒæ™¯ */
            /* éš±è—ç€è¦½å™¨æ»¾å‹•æ¢ï¼Œç¢ºä¿æ²’æœ‰å¤šé¤˜çš„åŠŸèƒ½åˆ— */
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
        }
        body::-webkit-scrollbar {
            display: none; /* Chrome, Safari and Opera */
        }

        /* å‚³çµ±æ™‚é˜å®¹å™¨ - æ‡‰ç”¨åˆ†æ®µé¡è‰²å’Œé™°å½± */
        .analog-clock-container {
            position: relative;
            width: var(--clock-size);
            height: var(--clock-size);
            border-radius: 50%;
            /* å¯¦ç¾ç”¨æˆ¶è¦æ±‚çš„ Conic Gradient èƒŒæ™¯åˆ†æ®µ */
            background: conic-gradient(
                #ffd6e8 0deg 60deg,      /* èµ·åºŠ: ç²‰ç´… */
                #d6eaff 60deg 150deg,     /* ç©¿è¡£æœ/æ›¸åŒ…: æ·ºè— */
                #ffecc7 150deg 240deg,     /* åƒæ—©é¤: æ·ºé»ƒ/æ©˜ */
                #e5ffd6 240deg 270deg,     /* æ•´ç†é¤æ¡Œ: æ·ºç¶  */
                #e8d6ff 270deg 300deg,     /* ç©¿é‹å­: æ·ºç´« */
                #C7E0B4 300deg 360deg      /* å‡ºé–€: ç°ç¶  */
            );
            /* ä¾æ“šè¦æ±‚ï¼Œå¤–æ¡†æ”¹ç‚ºç°è‰² (50%é»‘ = #808080) */
            /* 1. èª¿æ•´æ™‚é˜æ¡†ç·šå¯¬åº¦ç‚º 3px */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15), 0 0 0 1.5px #808080 inset;
        }

        /* æ™‚é˜ä¸­å¿ƒé» */
        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
        }

        /* æ™‚é˜æŒ‡é‡åŸºç¤æ¨£å¼ */
        .hand {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform-origin: center bottom;
            border-radius: 5px;
            z-index: 50;
        }

        /* æ™‚é‡ */
        .hour-hand {
            width: 1.5%;
            height: 30%;
            background-color: #334155; /* æ·±ç° */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* åˆ†é‡ */
        .minute-hand {
            width: 1%;
            height: 40%;
            background-color: #475569; /* ä¸­ç° */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* ç§’é‡ (ç´…) */
        .second-hand {
            width: 0.5%;
            height: 45%;
            background-color: #ef4444; /* ç´…è‰² */
            transform: translate(-50%, 0) rotate(0deg);
        }

        /* ä»»å‹™æ¨™ç±¤åŸºç¤æ¨£å¼ï¼šç§»é™¤å›ºå®šé¡è‰²ï¼Œäº¤çµ¦ JS è¨­ç½® Tailwind class */
        .task-label {
            position: absolute;
            color: white;
            padding: 0.35rem 1rem; /* ç¨å¾®æ”¾å¤§æ¨™ç±¤ */
            border-radius: 9999px; /* åœ“è§’ */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
            font-weight: bold;
            text-align: center;
            line-height: 1.3;
            z-index: 70;
            font-size: 0.85rem;
            transition: transform 0.3s ease; /* å¢åŠ éæ¸¡æ•ˆæœ */
            /* 3. ä»»å‹™æ¨™ç±¤åŠé€æ˜ (20% é€æ˜åº¦ = 80% ä¸é€æ˜åº¦) */
            opacity: 0.8;
        }
        
        /* æ‡¸åœæˆ–é»æ“Šæ™‚æ”¾å¤§ */
        .task-label:hover {
            transform: translate(-50%, -50%) scale(1.1);
            z-index: 80;
        }

        /* å°æ™‚åˆ»åº¦æ•¸å­— (1-12) - ä¾è¦æ±‚æ–°å¢åŠé€æ˜èƒŒæ™¯ä¸¦ç§»åˆ°å¤–æ¡†ç·šä¸Š */
        .hour-mark-num {
            position: absolute;
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e293b;
            transform: translate(-50%, -50%); /* å±…ä¸­å®šä½ */
            /* ä¾æ“šè¦æ±‚æ–°å¢ï¼šç™½è‰²åŠé€æ˜åº•è‰²å’Œåœ“è§’ */
            background-color: rgba(255, 255, 255, 0.2); /* 20% é€æ˜åº¦ç™½è‰² */
            backdrop-filter: blur(3px); /* è¼•å¾®æ¨¡ç³ŠèƒŒæ™¯ï¼Œå¢åŠ å¯è®€æ€§ */
            padding: 0.25rem 0.5rem; 
            border-radius: 9999px; 
            border: 1px solid rgba(255, 255, 255, 0.4); /* å¢åŠ ä¸€å€‹è¼•å¾®é‚Šæ¡† */
        }

        /* åˆ†é˜åˆ»åº¦ç·š/æ•¸å­— */
        .minute-mark {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            transform-origin: center center;
        }

        /* åŸºç¤åˆ†é˜é»é» */
        .minute-dot {
            position: absolute;
            /* 2. å¾®èª¿ dot ä½ç½®ï¼Œä½¿å…¶èˆ‡ minute-num ä¿æŒä¸€å®šçš„é–“è· */
            top: 3%; /* åŸ 2% èª¿æ•´ç‚º 3% */
            left: 50%;
            transform: translate(-50%, -50%);
            width: 6px; /* åŸºç¤å°ºå¯¸ */
            height: 6px; /* åŸºç¤å°ºå¯¸ */
            background-color: #94a3b8; /* æ·ºç°è‰² */
            border-radius: 50%;
        }

        /* ä¾è¦æ±‚èª¿æ•´ï¼šæ¯äº”åˆ†é˜çš„é»é»ç¨å¾®å¤§ä¸€é» (9px) */
        .five-minute-dot {
            width: 9px; 
            height: 9px;
            background-color: #475569; /* ä¸­ç°è‰²ï¼Œè®“å®ƒæ›´é¡¯çœ¼ */
        }
        
        /* æ¯ 5 åˆ†é˜çš„æ•¸å­—æ¨™ç±¤ */
        .minute-num {
            position: absolute;
            /* ä¾è¦æ±‚å¾€å¤–æ“´ 5% (å°‡ top å€¼æ¸›å° 5%) */
            top: 7%; /* åŸ 9.5% èª¿æ•´ç‚º 7% */
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 0.75rem;
            color: #64748b;
            font-weight: 500;
        }

        /* å°‡ 5 åˆ†é˜æ•¸å­—æ¨™ç±¤çš„ rotate(X) å€’è½‰å›ä¾†ï¼Œé¿å…æ–‡å­—è·Ÿè‘—æ™‚é˜æ—‹è½‰ */
        .minute-mark .minute-num {
            /* é€™è£¡ä½¿ç”¨ var(angle) è®Šæ•¸ä¾†åè½‰æ—‹è½‰ */
            transform: translate(-50%, -50%) rotate(calc(var(--current-rotation) * -1));
        }

        /* ä¾è¦æ±‚èª¿æ•´ï¼šé›»å­æ™‚é˜ ä¸Šåˆ/ä¸‹åˆ æ¨™ç±¤æ¨£å¼ (å›ºå®š 14pt) */
        .period-text {
            font-size: 14pt; /* ä¾è¦æ±‚å›ºå®šç‚º 14pt */
            font-weight: 500; /* æ¯”ä¸»æ•¸å­—ç´°ä¸€é» */
            color: #4b5563; /* æ¯”ä¸»æ•¸å­—è—è‰²æ·¡ä¸€é» */
            margin-left: 0.25rem;
            position: relative;
            top: -0.1em; /* è¼•å¾®ä¸Šç§»ä»¥å¯¦ç¾æ›´å¥½çš„è¦–è¦ºå°é½Š */
            display: inline-block;
        }


        /* åœ¨æ©«å¼é…ç½®ä¸‹ï¼Œé›»å­æ™‚é˜æ–‡å­—è¼ƒå¤§ */
        .landscape-digital-time {
            font-size: 4rem; /* æ”¾å¤§ */
        }
        /* ä¾è¦æ±‚èª¿æ•´ï¼šæ¯”åŸå§‹ 1.8rem (28.8px) æ¸›å°ç‚º 1.5rem (24px) */
        .landscape-digital-date {
            font-size: 1.5rem; 
        }

        /* éŸ¿æ‡‰å¼èª¿æ•´ï¼šåœ¨å°è¢å¹•ä¸Šèª¿æ•´æ™‚é˜å…ƒä»¶çš„å¤§å° */
        @media (max-width: 640px) {
            /* ä¾è¦æ±‚èª¿æ•´ï¼šæ¯”åŸå§‹ text-xl æ¸›å°ç‚º text-lg (1.125rem) */
            .digital-date-default-size { font-size: 1.125rem; } 

            .hour-mark-num { font-size: 1.25rem; }
            .task-label { font-size: 0.75rem; padding: 0.2rem 0.6rem; }
            .minute-dot { width: 4px; height: 4px; }
            .five-minute-dot { width: 6px; height: 6px; } /* åœ¨å°è¢å¹•ä¸Šèª¿æ•´äº”åˆ†é˜é»çš„å¤§å° */
            .minute-num { font-size: 0.65rem; }
            .landscape-digital-time { font-size: 3rem; }
            .landscape-digital-date { font-size: 1.25rem; }
        }

    </style>
</head>
<body class="overflow-hidden">

    <main id="app-container" class="min-h-screen flex flex-col justify-center items-center p-4 transition-all duration-300">
        <!-- å‚³çµ±æ™‚é˜å€å¡Š -->
        <div id="analog-clock-wrapper" class="flex justify-center items-center">
            <div id="analog-clock" class="analog-clock-container relative">
                <!-- 12å€‹å°æ™‚åˆ»åº¦æ•¸å­— -->
                <div id="hour-numbers"></div>
                <!-- 60å€‹åˆ†é˜åˆ»åº¦ -->
                <div id="minute-marks"></div>
                <!-- ä»»å‹™æ¨™ç±¤ -->
                <div id="task-labels"></div>

                <!-- æŒ‡é‡ -->
                <div id="hour-hand" class="hand hour-hand"></div>
                <div id="minute-hand" class="hand minute-hand"></div>
                <div id="second-hand" class="hand second-hand"></div>
                
                <!-- ä¸­å¿ƒé» -->
                <div class="center-dot"></div>
            </div>
        </div>

        <!-- é›»å­æ™‚é˜å€å¡Š - å¯æ„›çš„è¨­è¨ˆé¢¨æ ¼ -->
        <!-- ä¾è¦æ±‚å°‡ digital-date çš„é è¨­æ–‡å­—å¤§å°å¾ text-xl æ”¹ç‚º text-lg (ç´„å° 10pt) -->
        <div id="digital-clock" class="mt-8 text-center transition-all duration-300 bg-white p-6 rounded-3xl shadow-xl border-4 border-pink-200">
            <div id="digital-date" class="text-lg text-pink-600 font-semibold mb-2 landscape-digital-date"></div>
            <div id="digital-time" class="text-5xl font-mono font-extrabold text-blue-700 landscape-digital-time"></div>
        </div>
    </main>

    <script>
        // è¨­å®š API Keyï¼Œå¦‚æœè¦åœ¨ Canvas ç’°å¢ƒä»¥å¤–é‹è¡Œï¼Œè«‹å¡«å¯«
        const apiKey = ""; 

        // ä»»å‹™æ¨™ç±¤è³‡æ–™ (æ–°å¢äº† colorClass å±¬æ€§ä¾†å¯¦ç¾æ¯å€‹ä»»å‹™æœ‰è‡ªå·±çš„é¡è‰²)
        const tasks = [
            // è§’åº¦æ˜¯æ¨™ç±¤ä¸­å¿ƒé»çš„ä½ç½®
            { emoji: 'ğŸŒ', label: 'èµ·åºŠ', angle: 30, colorClass: 'bg-red-400', cssClass: 'task-label' },
            { emoji: 'ğŸ‘•ğŸ“š', label: 'ç©¿è¡£æœ<br>æ•´ç†æ›¸åŒ…', angle: 115, colorClass: 'bg-blue-400', cssClass: 'task-label' },
            { emoji: 'ğŸ', label: 'åƒæ—©é¤', angle: 190, colorClass: 'bg-yellow-500', cssClass: 'task-label' },
            { emoji: 'ğŸ§»', label: 'æ•´ç†é¤æ¡Œ<br>æ“¦æ‰‹æ“¦å˜´', angle: 255, colorClass: 'bg-green-500', cssClass: 'task-label' },
            { emoji: 'ğŸ‘Ÿ', label: 'ç©¿é‹å­', angle: 285, colorClass: 'bg-purple-500', cssClass: 'task-label' },
            { emoji: 'ğŸš—', label: 'å‡ºé–€', angle: 330, colorClass: 'bg-lime-600', cssClass: 'task-label' }
        ];

        // DOM å…ƒç´ åƒè€ƒ
        const appContainer = document.getElementById('app-container');
        const analogClockWrapper = document.getElementById('analog-clock-wrapper');
        const analogClock = document.getElementById('analog-clock');
        const digitalClock = document.getElementById('digital-clock');
        const digitalDateEl = document.getElementById('digital-date');
        const digitalTimeEl = document.getElementById('digital-time');
        const hourHand = document.getElementById('hour-hand');
        const minuteHand = document.getElementById('minute-hand');
        const secondHand = document.getElementById('second-hand');
        const hourNumbersEl = document.getElementById('hour-numbers');
        const minuteMarksEl = document.getElementById('minute-marks');
        const taskLabelsEl = document.getElementById('task-labels');

        // =======================================================
        // 1. æ™‚é˜ã€åˆ»åº¦ã€ä»»å‹™æ¨™ç±¤çš„åˆå§‹åŒ–
        // =======================================================

        /**
         * æ ¹æ“šæä¾›çš„è§’åº¦å’ŒåŠå¾‘ï¼Œè¨ˆç®—å…ƒç´ åœ¨æ™‚é˜ä¸Šçš„ (x, y) åº§æ¨™ã€‚
         * è§’åº¦å¾ 12 é»é˜ä½ç½®é–‹å§‹ï¼Œé †æ™‚é‡è¨ˆç®—ã€‚
         * @param {number} angle - è§’åº¦ (0-360)
         * @param {number} radius - åŠå¾‘ (0-0.5ï¼Œä½”æ™‚é˜å¯¬åº¦çš„ä¸€åŠ)
         * @returns {{x: number, y: number}} ç›¸å°æ–¼æ™‚é˜ä¸­å¿ƒçš„åç§»é‡ (px)
         */
        function getCoords(angle, radius) {
            // å°‡è§’åº¦è½‰æ›ç‚ºå¼§åº¦ (å¾ 12 é»é˜ä½ç½®é–‹å§‹ï¼Œé †æ™‚é‡)
            // ç”±æ–¼ CSS åº§æ¨™ç³» (Y è»¸å‘ä¸‹ç‚ºæ­£)ï¼Œæˆ‘å€‘å°‡ 0 åº¦è¨­å®šåœ¨ 12 é»é˜æ–¹å‘ã€‚
            // åœ¨æ¨™æº–æ•¸å­¸åº§æ¨™ä¸­ï¼Œ0 åº¦åœ¨ 3 é»é˜æ–¹å‘ï¼Œå› æ­¤éœ€è¦å°‡è§’åº¦æ¸›å» 90 åº¦é€²è¡Œèª¿æ•´ã€‚
            const rad = (angle - 90) * (Math.PI / 180); 
            const clockSize = analogClock.offsetWidth;
            const R = clockSize * radius;
            
            // è¨ˆç®—ç›¸å°æ–¼ä¸­å¿ƒé»çš„åç§»é‡
            // X: R * cos(rad)
            // Y: R * sin(rad)
            const centerX = clockSize / 2;
            const centerY = clockSize / 2;

            return {
                x: centerX + R * Math.cos(rad),
                y: centerY + R * Math.sin(rad)
            };
        }

        /** ç¹ªè£½å°æ™‚æ•¸å­—åˆ»åº¦ (1-12) */
        function createHourNumbers() {
            hourNumbersEl.innerHTML = '';
            // ä¾è¦æ±‚èª¿æ•´ï¼šæ™‚é˜å¯¬åº¦çš„ 52% ä½œç‚ºåŠå¾‘ï¼Œæ•¸å­—åœ¨åœ“çš„æ¡†ç·šåœ¨å¤–æ“´10%
            const radius = 0.52; 

            for (let h = 1; h <= 12; h++) {
                // æ¯å°æ™‚çš„è§’åº¦ï¼š360 / 12 = 30 åº¦
                // æ³¨æ„ï¼šé€™è£¡ä½¿ç”¨ h * 30ï¼Œå› ç‚ºæˆ‘å€‘å¸Œæœ› 1 é»é˜åœ¨ 30 åº¦ä½ç½®
                let angle = h * 30;
                let { x, y } = getCoords(angle, radius);

                const numEl = document.createElement('div');
                numEl.className = 'hour-mark-num';
                // é¡¯ç¤º 12 å°æ™‚åˆ¶æ•¸å­—
                numEl.textContent = h;
                numEl.style.left = `${x}px`;
                numEl.style.top = `${y}px`;
                hourNumbersEl.appendChild(numEl);
            }
        }

        /** ç¹ªè£½åˆ†é˜åˆ»åº¦ (é»å’Œæ•¸å­—) */
        function createMinuteMarks() {
            minuteMarksEl.innerHTML = '';
            // æ¯å€‹åˆ»åº¦çš„è§’åº¦ï¼š360 / 60 = 6 åº¦
            for (let m = 0; m < 60; m++) {
                const angle = m * 6;
                const isFiveMinute = m % 5 === 0;
                
                // ç‚ºäº†è®“åˆ»åº¦åœ¨é‚Šç·£é™„è¿‘ï¼Œæˆ‘å€‘ä½¿ç”¨ä¸€å€‹æ—‹è½‰çš„çˆ¶å…ƒç´ 
                const markContainer = document.createElement('div');
                markContainer.className = 'minute-mark';
                // æ—‹è½‰æ•´å€‹å®¹å™¨
                markContainer.style.transform = `rotate(${angle}deg)`;
                // è¨­å®šä¸€å€‹ CSS è®Šæ•¸ä¾†å¹«åŠ©åœ¨å­å…ƒç´ ä¸­åè½‰æ–‡å­—æ—‹è½‰
                markContainer.style.setProperty('--current-rotation', `${angle}deg`);
                
                // 2. æ‰€æœ‰åˆ»åº¦ (åŒ…æ‹¬ 5 åˆ†é˜åˆ»åº¦) éƒ½è¦æœ‰ dot
                const minuteDot = document.createElement('div');
                minuteDot.className = 'minute-dot';

                // é‡å°æ¯äº”åˆ†é˜çš„é»ï¼Œæ·»åŠ ç‰¹æ®Š class è®“å®ƒè®Šå¤§
                if (isFiveMinute) {
                    minuteDot.classList.add('five-minute-dot');
                }

                markContainer.appendChild(minuteDot);

                if (isFiveMinute) {
                    // æ¯äº”åˆ†é˜é¡¯ç¤ºæ•¸å­— (é™¤äº† 0 åˆ†é˜)
                    if (m !== 0) { 
                        const minuteNum = document.createElement('div');
                        minuteNum.className = 'minute-num';
                        minuteNum.textContent = m;
                        // è®“æ–‡å­—åå‘æ—‹è½‰ (åœ¨ style å€å¡Šä¸­å®šç¾©)
                        markContainer.appendChild(minuteNum);
                    }
                } 
                
                minuteMarksEl.appendChild(markContainer);
            }
        }

        /** ç¹ªè£½ä»»å‹™æ¨™ç±¤ */
        function createTaskLabels() {
            taskLabelsEl.innerHTML = '';
            // ä¾è¦æ±‚èª¿æ•´ï¼šä»»å‹™æ¨™ç±¤å¾€åœ“å¿ƒå…§ç¸® 50% (åŸåŠå¾‘ 0.46 / 2 = 0.23)
            const radius = 0.23; 

            tasks.forEach(task => {
                const { angle, label, emoji, colorClass } = task;
                let { x, y } = getCoords(angle, radius);

                const labelEl = document.createElement('div');
                // å°‡ task-label åŸºç¤æ¨£å¼å’Œ Tailwind é¡è‰²é¡åˆ¥çµåˆ
                labelEl.className = `${task.cssClass} ${colorClass}`;
                
                // æ¨™ç±¤å…§å®¹: è¡¨æƒ…ç¬¦è™Ÿ + æ›è¡Œ + èªªæ˜æ–‡å­—
                labelEl.innerHTML = `${emoji} ${label}`;

                // å®šä½æ¨™ç±¤
                labelEl.style.left = `${x}px`;
                labelEl.style.top = `${y}px`;
                // ä½¿ç”¨ translate(-50%, -50%) å°‡æ¨™ç±¤ä¸­å¿ƒå°æº– (x, y) åº§æ¨™
                labelEl.style.transform = `translate(-50%, -50%)`;

                taskLabelsEl.appendChild(labelEl);
            });
        }


        // =======================================================
        // 2. æ™‚é˜é‹ä½œé‚è¼¯
        // =======================================================

        /**
         * æ›´æ–°æŒ‡é‡ä½ç½®
         */
        function updateAnalogClock() {
            const now = new Date();
            const h = now.getHours(); 
            const m = now.getMinutes();
            const s = now.getSeconds();

            // æ™‚é‡è§’åº¦: (å°æ™‚ * 30åº¦) + (åˆ†é˜ * 0.5åº¦)
            const hDeg = ((h % 12) * 30) + (m * 0.5);
            // åˆ†é‡è§’åº¦: åˆ†é˜ * 6åº¦
            const mDeg = (m * 6) + (s * 0.1);
            // ç§’é‡è§’åº¦: ç§’ * 6åº¦
            const sDeg = s * 6;

            // è¨­ç½® CSS transform: rotateZã€‚
            hourHand.style.transform = `translate(-50%, 0) rotate(${hDeg}deg)`;
            minuteHand.style.transform = `translate(-50%, 0) rotate(${mDeg}deg)`;
            secondHand.style.transform = `translate(-50%, 0) rotate(${sDeg}deg)`;
        }

        /**
         * æ›´æ–°é›»å­æ™‚é˜é¡¯ç¤º
         */
        function updateDigitalClock() {
            const now = new Date();
            
            // è™•ç†æ—¥æœŸå’Œæ˜ŸæœŸ
            const dateOptions = { year: 'numeric', month: '2-digit', day: '2-digit' };
            const dateStr = now.toLocaleDateString('zh-TW', dateOptions);

            const weekdayOptions = { weekday: 'long' };
            const weekdayStr = now.toLocaleDateString('zh-TW', weekdayOptions);

            // è™•ç†æ™‚é–“ (12å°æ™‚åˆ¶, HH:MM:SS AM/PM)
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit', 
                hour12: true 
            };
            // ç¢ºä¿è¼¸å‡ºæ ¼å¼æ˜¯ HH:MM:SS ä¸Šåˆ/ä¸‹åˆ
            let timeStr = now.toLocaleTimeString('zh-TW', timeOptions);
            
            // ** èª¿æ•´ï¼šå°‡æ™‚é–“å’Œ ä¸Šåˆ/ä¸‹åˆ æ¨™è¨˜åˆ†é–‹ï¼Œä»¥ä¾¿å–®ç¨è¨­ç½®æ¨£å¼ **
            const parts = timeStr.split(' ');
            let timeDigits = '';
            let periodText = '';

            if (parts.length === 2) {
                // åˆ¤æ–·å“ªå€‹éƒ¨åˆ†æ˜¯æ™‚é–“æ•¸å­— (åŒ…å« ':')
                if (parts[0].includes(':')) {
                    timeDigits = parts[0];
                    periodText = parts[1];
                } else {
                    periodText = parts[0];
                    timeDigits = parts[1];
                }
            } else {
                // å¦‚æœæ ¼å¼ä¸ç¬¦åˆé æœŸ (ä¾‹å¦‚æ²’æœ‰ç©ºæ ¼)ï¼Œå‰‡ä¿æŒåŸæ¨£
                timeDigits = timeStr;
                periodText = '';
            }

            digitalDateEl.textContent = `${dateStr} ${weekdayStr}`;
            
            // ä½¿ç”¨ innerHTML æ’å…¥å¸¶æœ‰ç‰¹æ®Šæ¨£å¼ class çš„ <span> æ¨™ç±¤
            let formattedTimeHTML = `${timeDigits} <span class="period-text">${periodText}</span>`;
            digitalTimeEl.innerHTML = formattedTimeHTML;
        }

        /**
         * æ ¹æ“šè¢å¹•æ–¹å‘èª¿æ•´ä½ˆå±€å’Œæ™‚é˜å¤§å°
         */
        function updateLayout() {
            const isLandscape = window.innerWidth > window.innerHeight;
            const root = document.documentElement;

            // æ¸…ç†é¡åˆ¥
            appContainer.classList.remove('flex-row', 'flex-col', 'justify-start', 'gap-12', 'gap-6');
            digitalClock.classList.remove('mt-8', 'text-center', 'flex', 'flex-col', 'justify-center', 'text-left');
            
            if (isLandscape) {
                // æ©«å¼é…ç½®ï¼šæ™‚é˜åœ¨å·¦ï¼Œé›»å­æ™‚é˜åœ¨å³
                appContainer.classList.add('flex-row', 'justify-center', 'gap-12', 'p-8');
                
                // æ™‚é˜å¤§å° = è¢å¹•é«˜åº¦ (90% ä½œç‚ºç›´å¾‘)
                const clockSize = window.innerHeight * 0.9;
                root.style.setProperty('--clock-size', `${clockSize}px`);

                // èª¿æ•´é›»å­æ™‚é˜æ¨£å¼
                digitalClock.classList.add('flex', 'flex-col', 'justify-center', 'text-left');

            } else {
                // ç›´å¼é…ç½®ï¼šæ™‚é˜åœ¨ä¸Šä¸­ï¼Œé›»å­æ™‚é˜åœ¨ä¸‹
                appContainer.classList.add('flex-col', 'justify-start', 'gap-6', 'p-4');
                
                // æ™‚é˜å¤§å° = è¢å¹•å¯¬åº¦ (90% ä½œç‚ºç›´å¾‘ï¼Œæœ€å¤§é™åˆ¶åœ¨ 70vh ä»¥é¿å…éé«˜)
                const clockSize = Math.min(window.innerWidth * 0.9, window.innerHeight * 0.7);
                root.style.setProperty('--clock-size', `${clockSize}px`);

                // èª¿æ•´é›»å­æ™‚é˜æ¨£å¼
                digitalClock.classList.add('mt-8', 'text-center');
            }

            // é‡æ–°ç¹ªè£½åˆ»åº¦å’Œæ¨™ç±¤ä»¥é©æ‡‰æ–°çš„æ™‚é˜å°ºå¯¸
            createHourNumbers();
            createMinuteMarks();
            createTaskLabels();
        }

        // =======================================================
        // 3. åˆå§‹åŒ–å’Œäº‹ä»¶ç›£è½
        // =======================================================

        // é¦–æ¬¡é‹è¡Œæ™‚åˆå§‹åŒ–ä½ˆå±€å’Œæ™‚é˜
        window.onload = function() {
            updateLayout(); 
            updateAnalogClock();
            updateDigitalClock();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡æŒ‡é‡å’Œé›»å­æ™‚é˜
            setInterval(() => {
                updateAnalogClock();
                updateDigitalClock();
            }, 1000);

            // ç›£è½è¦–çª—å¤§å°è®ŠåŒ–ï¼Œä»¥èª¿æ•´ä½ˆå±€
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                // é™åˆ¶ resize é »ç‡ä»¥å„ªåŒ–æ€§èƒ½
                resizeTimer = setTimeout(updateLayout, 200);
            });
        };
    </script>
</body>
</html>